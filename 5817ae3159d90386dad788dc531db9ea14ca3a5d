{
  "comments": [
    {
      "key": {
        "uuid": "6cda9d98_819bcb33",
        "filename": "src/ui/styles/widgets/ve.ui.CompletionWidget.css",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-10-03T15:11:08Z",
      "side": 1,
      "message": "CompletionWidget",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "041a167f_47de9f82",
        "filename": "src/ui/styles/widgets/ve.ui.CompletionWidget.css",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 2915
      },
      "writtenOn": "2019-10-03T15:20:18Z",
      "side": 1,
      "message": "Oh, that copy-paste.",
      "parentUuid": "6cda9d98_819bcb33",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b27f4a08_c9e338d9",
        "filename": "src/ui/ve.ui.Surface.js",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-10-03T15:11:08Z",
      "side": 1,
      "message": "I think this can be attached to $menus.",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c5fd266_43cd2f59",
        "filename": "src/ui/widgets/ve.ui.CompletionWidget.js",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-10-03T15:11:08Z",
      "side": 1,
      "message": "These should be setup/teardown, as they do a lot more than just toggle visibility.",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a356884a_c3847ffd",
        "filename": "src/ui/widgets/ve.ui.CompletionWidget.js",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-10-03T15:11:08Z",
      "side": 1,
      "message": "we should use the adjustLinearSelection here so the box aligns with the start of the trigger",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d80bfefa_991ea92e",
        "filename": "src/ui/widgets/ve.ui.CompletionWidget.js",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-10-03T15:11:08Z",
      "side": 1,
      "message": "All the word break logic is specific to the word-completion widget. Generically we don\u0027t need to look for word breaks, for example usernames can have spaces in them.\n\nWhen the widget is setup the caller should decide what the context range is (or the start offset).",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5493759b_4c90f3c7",
        "filename": "src/ui/widgets/ve.ui.CompletionWidget.js",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 2915
      },
      "writtenOn": "2019-10-03T15:20:18Z",
      "side": 1,
      "message": "Although usernames can have spaces, I sort of think that a space is still a good place to break out of autocomplete-mode. Otherwise it becomes a fairly ambiguous question to decide when to _stop_ checking the current string for completions, particularly if we add the \"always show the current string as a valid option to turn into a userlink\" mode that was suggested.\n\nMight be worth running it by Jess for a UX opinion? Spaces in usernames are kinda uncommon, so it\u0027s not a well covered feature.\n\nThat said, I do agree about just setting the start offset. I need to adjust the API a little bit so it knows to ignore trigger characters like the @ when computing the completion. (Could use the sequence remove-trigger thing, but that\u0027d suddenly make deliberately typing the @ impossible, so...)",
      "parentUuid": "d80bfefa_991ea92e",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cad179fd_94a0324d",
        "filename": "src/ui/widgets/ve.ui.CompletionWidget.js",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 658
      },
      "writtenOn": "2019-10-03T15:34:53Z",
      "side": 1,
      "message": "The Phabricator completer allows spaces, and it\u0027s a common enough case that it probably needs to be supported (both by usernames contain spaces).\n\nEither way it should be up to each completer action to decide when to break, not the core logic. The core logic should support \u003cesc\u003e to break though.",
      "parentUuid": "5493759b_4c90f3c7",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3e81d192_7c37ba8b",
        "filename": "src/ui/widgets/ve.ui.CompletionWidget.js",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 2915
      },
      "writtenOn": "2019-10-03T15:38:09Z",
      "side": 1,
      "message": "Hm, good point. I think Phabricator\u0027s logic is to dismiss completion if you hit space again once there\u0027s no more possible completions. That might be generic enough to at least build in to the core CompletionAction logic as the default behavior, unless someone wants to override it.",
      "parentUuid": "cad179fd_94a0324d",
      "revId": "5817ae3159d90386dad788dc531db9ea14ca3a5d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}