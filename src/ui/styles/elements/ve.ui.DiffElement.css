/*!
 * VisualEditor MediaWiki UserInterface DiffElement styles.
 *
 * @copyright 2011-2017 VisualEditor Team and others; see AUTHORS.txt
 * @license The MIT License (MIT); see LICENSE.txt
 */

.ve-ui-diffElement {
	margin-left: 20px;
}

[data-diff-action='insert'],
[data-diff-action='remove'],
[data-diff-action='change-insert'],
[data-diff-action='change-remove'] {
	text-decoration: inherit;
	border-radius: 0.15em;
}

[data-diff-action='insert'],
/* elements using display:table-caption need separate backgrounds */
table[data-diff-action='insert'] > caption,
figure[data-diff-action='insert'] > figcaption {
	background-color: #7fd7c4 !important; /* stylelint-disable-line declaration-no-important */
	box-shadow: 0 0 0 0.1em #7fd7c4;
}

[data-diff-action='remove'],
/* elements using display:table-caption need separate backgrounds */
table[data-diff-action='remove'] > caption,
figure[data-diff-action='remove'] > figcaption {
	background-color: #e88e89 !important; /* stylelint-disable-line declaration-no-important */
	box-shadow: 0 0 0 0.1em #e88e89;
}

[data-diff-action='change-insert'] {
	background-color: #8ab4e8 !important; /* stylelint-disable-line declaration-no-important */
	box-shadow: 0 0 0 0.1em #8ab4e8;
}

[data-diff-action='change-remove'] {
	display: none;
}

del[data-diff-action='remove'] {
	text-decoration: line-through;
}

[data-diff-action='insert'] [rel='ve:Comment'],
[data-diff-action='remove'] [rel='ve:Comment'],
[data-diff-action='change-insert'] [rel='ve:Comment'],
[data-diff-action='change-remove'] [rel='ve:Comment'] {
	display: inline-block;
	width: 1em;
}

[data-diff-action='remove'] + [data-diff-action='insert'],
[data-diff-action='insert'] + [data-diff-action='remove'],
[data-diff-action='remove'] + [data-diff-action='change-insert'],
[data-diff-action='insert'] + [data-diff-action='change-remove'] {
	margin-left: 0.2em;
}

[data-diff-action='none'] {
	opacity: 0.4;
}

[data-diff-move='up'],
[data-diff-move='down'],
.ve-ui-diffElement-doc-child-change {
	border-left: 6px solid #36c;
	padding-left: 14px;
	margin-left: -20px;
}

[data-diff-move='up'],
[data-diff-move='down'] {
	position: relative;
	opacity: 1;
}

[data-diff-move='up']:before,
[data-diff-move='down']:before {
	position: absolute;
	left: -6px;
	content: ' ';
	width: 0;
	height: 0;
	border-left: 3px solid transparent;
	border-right: 3px solid transparent;
	background: #fff;
	outline: 3px solid #fff;
}

[data-diff-move='down']:before {
	bottom: 0;
	border-top: 6px solid #36c;
}

[data-diff-move='up']:before {
	top: 0;
	border-bottom: 6px solid #36c;
}

[data-diff-action='insert']:empty:before,
[data-diff-action='remove']:empty:before,
[data-diff-move='up']:empty:before,
[data-diff-move='down']:empty:before,
[data-diff-action='insert'] *:empty:before,
[data-diff-action='remove'] *:empty:before,
[data-diff-move='up'] *:empty:before,
[data-diff-move='down'] *:empty:before {
	content: url( data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 );
}

.ve-ui-diffElement-no-changes {
	color: #72777d;
	font-style: italic;
}

.ve-ui-diffElement-spacer {
	color: #72777d;
	clear: both;
}
